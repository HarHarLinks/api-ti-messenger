<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2738px" preserveAspectRatio="none" style="width:1752px;height:2738px;background:#FFFFFF;" version="1.1" viewBox="0 0 1752 2738" width="1752px" zoomAndPan="magnify"><defs/><g><rect fill="#F5F5F5" height="2726.7949" style="stroke:#181818;stroke-width:0.5;" width="482" x="339" y="6"/><text fill="#000000" font-family="sans-serif" font-size="19" font-weight="bold" lengthAdjust="spacing" textLength="88" x="534" y="24.3691">Endgerät</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="4" x="622" y="25.6348"> </text><rect fill="#DCDCDC" height="2301.3789" style="stroke:#000000;stroke-width:1.0;" width="10" x="461" y="246.3066"/><rect fill="#DCDCDC" height="258.1719" style="stroke:#000000;stroke-width:1.0;" width="10" x="730" y="492.2344"/><rect fill="#DCDCDC" height="34.0215" style="stroke:#000000;stroke-width:1.0;" width="10" x="1028" y="594.2988"/><rect fill="#DCDCDC" height="112.8975" style="stroke:#000000;stroke-width:1.0;" width="10" x="1232.5" y="320.3154"/><rect fill="#DCDCDC" height="1315.377" style="stroke:#000000;stroke-width:1.0;" width="10" x="1232.5" y="809.4277"/><rect fill="#DCDCDC" height="229.9404" style="stroke:#000000;stroke-width:1.0;" width="10" x="1232.5" y="2283.7236"/><rect fill="#DCDCDC" height="170.1074" style="stroke:#000000;stroke-width:1.0;" width="10" x="1639.5" y="526.2559"/><rect fill="#DCDCDC" height="34.0215" style="stroke:#000000;stroke-width:1.0;" width="10" x="1639.5" y="843.4492"/><rect fill="#F0F8FF" height="2426.5762" style="stroke:#000000;stroke-width:1.5;" width="1736.5" x="10" y="154.1094"/><rect fill="#ADD8E6" height="1297.3301" style="stroke:#000000;stroke-width:1.5;" width="1716.5" x="20" y="261.3066"/><rect fill="#ADD8E6" height="469.0586" style="stroke:none;stroke-width:1.0;" width="1716.5" x="20" y="1089.5781"/><rect fill="#FFE4E1" height="133.041" style="stroke:#000000;stroke-width:1.5;" width="1340" x="20" y="1597.6367"/><rect fill="#FFE4E1" height="133.041" style="stroke:#000000;stroke-width:1.5;" width="1340" x="20" y="1933.7422"/><line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="123" x2="123" y1="112.1094" y2="2622.6855"/><line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="466" x2="466" y1="112.1094" y2="2622.6855"/><line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="735" x2="735" y1="112.1094" y2="2622.6855"/><line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1033" x2="1033" y1="112.1094" y2="2622.6855"/><line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1237" x2="1237" y1="112.1094" y2="2622.6855"/><line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1644.5" x2="1644.5" y1="112.1094" y2="2622.6855"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="180" x="30" y="84.3359">Akteur in der Rolle</text><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="112" x="64" y="107.8906">Org-Admin</text><ellipse cx="123" cy="13.5" fill="#DCDCDC" rx="8" ry="8" style="stroke:#000000;stroke-width:0.5;"/><path d="M123,21.5 L123,48.5 M110,29.5 L136,29.5 M123,48.5 L110,63.5 M123,48.5 L136,63.5 " fill="none" style="stroke:#000000;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="180" x="30" y="2641.0215">Akteur in der Rolle</text><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="112" x="64" y="2664.5762">Org-Admin</text><ellipse cx="123" cy="2677.2949" fill="#DCDCDC" rx="8" ry="8" style="stroke:#000000;stroke-width:0.5;"/><path d="M123,2685.2949 L123,2712.2949 M110,2693.2949 L136,2693.2949 M123,2712.2949 L110,2727.2949 M123,2712.2949 L136,2727.2949 " fill="none" style="stroke:#000000;stroke-width:0.5;"/><rect fill="#EFEFFF" height="61.1094" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="246" x="343" y="50"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="126" x="400" y="76.3359">Frontend des</text><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="232" x="350" y="99.8906">Registrierungs-Dienstes</text><rect fill="#EFEFFF" height="61.1094" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="246" x="343" y="2621.6855"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="126" x="400" y="2648.0215">Frontend des</text><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="232" x="350" y="2671.5762">Registrierungs-Dienstes</text><rect fill="#EFEFFF" height="37.5547" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="164" x="653" y="73.5547"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="129" x="670.5" y="99.8906">Authenticator</text><rect fill="#EFEFFF" height="37.5547" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="164" x="653" y="2621.6855"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="129" x="670.5" y="2648.0215">Authenticator</text><rect fill="#EFEFFF" height="37.5547" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="164" x="951" y="73.5547"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="99" x="983.5" y="99.8906">Konnektor</text><rect fill="#EFEFFF" height="37.5547" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="164" x="951" y="2621.6855"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="99" x="983.5" y="2648.0215">Konnektor</text><rect fill="#EFEFFF" height="37.5547" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="225" x="1125" y="73.5547"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="211" x="1132" y="99.8906">Registrierungs-Dienst</text><rect fill="#EFEFFF" height="37.5547" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="225" x="1125" y="2621.6855"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="211" x="1132" y="2648.0215">Registrierungs-Dienst</text><rect fill="#EFEFFF" height="61.1094" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="164" x="1562.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="85" x="1599" y="76.3359">zentraler</text><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="105" x="1592" y="99.8906">IDP-Dienst</text><rect fill="#EFEFFF" height="61.1094" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="164" x="1562.5" y="2621.6855"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="85" x="1599" y="2648.0215">zentraler</text><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="105" x="1592" y="2671.5762">IDP-Dienst</text><rect fill="#DCDCDC" height="2301.3789" style="stroke:#000000;stroke-width:1.0;" width="10" x="461" y="246.3066"/><rect fill="#DCDCDC" height="258.1719" style="stroke:#000000;stroke-width:1.0;" width="10" x="730" y="492.2344"/><rect fill="#DCDCDC" height="34.0215" style="stroke:#000000;stroke-width:1.0;" width="10" x="1028" y="594.2988"/><rect fill="#DCDCDC" height="112.8975" style="stroke:#000000;stroke-width:1.0;" width="10" x="1232.5" y="320.3154"/><rect fill="#DCDCDC" height="1315.377" style="stroke:#000000;stroke-width:1.0;" width="10" x="1232.5" y="809.4277"/><rect fill="#DCDCDC" height="229.9404" style="stroke:#000000;stroke-width:1.0;" width="10" x="1232.5" y="2283.7236"/><rect fill="#DCDCDC" height="170.1074" style="stroke:#000000;stroke-width:1.0;" width="10" x="1639.5" y="526.2559"/><rect fill="#DCDCDC" height="34.0215" style="stroke:#000000;stroke-width:1.0;" width="10" x="1639.5" y="843.4492"/><path d="M10,154.1094 L72,154.1094 L72,161.4199 L62,171.4199 L10,171.4199 L10,154.1094 " fill="#D3D3D3" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="2426.5762" style="stroke:#000000;stroke-width:1.5;" width="1736.5" x="10" y="154.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="25" y="167.6777">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="4" x="87" y="172.6328">[</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="481" x="91" y="171.5781">Organisation nicht am Registrierungs-Dienst authentisiert</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="4" x="572" y="172.6328">]</text><polygon fill="#000000" points="449,242.3066,459,246.3066,449,250.3066,453,246.3066" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="123" x2="455" y1="246.3066" y2="246.3066"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="11" x="130" y="230.71">1</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="203" x="145" y="220.6992">Organisation verifizieren</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="184" x="145" y="240.7207">(Verfahren auswählen)</text><path d="M20,261.3066 L82,261.3066 L82,268.6172 L72,278.6172 L20,278.6172 L20,261.3066 " fill="#D3D3D3" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1297.3301" style="stroke:#000000;stroke-width:1.5;" width="1716.5" x="20" y="261.3066"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="35" y="274.875">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="4" x="97" y="279.8301">[</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="134" x="101" y="278.7754">OpenID Connect</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="4" x="235" y="279.8301">]</text><polygon fill="#000000" points="1220.5,316.3154,1230.5,320.3154,1220.5,324.3154,1224.5,320.3154" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="471" x2="1226.5" y1="320.3154" y2="320.3154"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="11" x="478" y="314.7295">2</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="160" x="493" y="314.7295">POST I_Registration</text><path d="M1247,287.4609 L1247,334.4609 L1503,334.4609 L1503,297.4609 L1493,287.4609 L1247,287.4609 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1493,287.4609 L1493,297.4609 L1503,297.4609 L1493,287.4609 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="16" lengthAdjust="spacing" textLength="179" x="1253" y="307.9297">Schnittstelle wird nicht</text><text fill="#000000" font-family="sans-serif" font-size="16" lengthAdjust="spacing" textLength="235" x="1253" y="326.7734">durch die gematik spezifiziert</text><line style="stroke:#000000;stroke-width:1.0;" x1="1242.5" x2="1284.5" y1="386.1914" y2="386.1914"/><line style="stroke:#000000;stroke-width:1.0;" x1="1284.5" x2="1284.5" y1="386.1914" y2="399.1914"/><line style="stroke:#000000;stroke-width:1.0;" x1="1243.5" x2="1284.5" y1="399.1914" y2="399.1914"/><polygon fill="#000000" points="1253.5,395.1914,1243.5,399.1914,1253.5,403.1914,1249.5,399.1914" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="11" x="1249.5" y="370.5947">3</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="159" x="1264.5" y="360.584">Erzeuge PKCE Code</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="208" x="1264.5" y="380.6055">für verifier und challenge</text><polygon fill="#000000" points="482,429.2129,472,433.2129,482,437.2129,478,433.2129" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="476" x2="1236.5" y1="433.2129" y2="433.2129"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="11" x="898.5" y="427.627">4</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="317" x="913.5" y="427.627">Redirect to IDP Authorization Endpoint</text><polygon fill="#000000" points="718,488.2344,728,492.2344,718,496.2344,722,492.2344" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="471" x2="724" y1="492.2344" y2="492.2344"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="11" x="478" y="486.6484">5</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="225" x="493" y="486.6484">Deeplink authenticator://...</text><polygon fill="#000000" points="1627.5,522.2559,1637.5,526.2559,1627.5,530.2559,1631.5,526.2559" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="740" x2="1633.5" y1="526.2559" y2="526.2559"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="11" x="747" y="520.6699">6</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="242" x="762" y="520.6699">GET {authorization_endpoint}</text><polygon fill="#000000" points="751,556.2773,741,560.2773,751,564.2773,747,560.2773" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="745" x2="1638.5" y1="560.2773" y2="560.2773"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="11" x="1412.5" y="554.6914">7</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="205" x="1427.5" y="554.6914">Authentication challenge</text><polygon fill="#000000" points="1016,590.2988,1026,594.2988,1016,598.2988,1020,594.2988" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="740" x2="1022" y1="594.2988" y2="594.2988"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="11" x="747" y="588.7129">8</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="170" x="762" y="588.7129">ExternalAuthenticate</text><polygon fill="#000000" points="751,624.3203,741,628.3203,751,632.3203,747,628.3203" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="745" x2="1032" y1="628.3203" y2="628.3203"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="11" x="762" y="622.7344">9</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="249" x="777" y="622.7344">ExternalAuthenticateResponse</text><polygon fill="#000000" points="1627.5,658.3418,1637.5,662.3418,1627.5,666.3418,1631.5,662.3418" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="740" x2="1633.5" y1="662.3418" y2="662.3418"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="22" x="747" y="656.7559">10</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="285" x="773" y="656.7559">Authentication challenge response</text><polygon fill="#000000" points="751,692.3633,741,696.3633,751,700.3633,747,696.3633" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="745" x2="1643.5" y1="696.3633" y2="696.3633"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="22" x="1361.5" y="690.7773">11</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="250" x="1387.5" y="690.7773">HTTP 302 Redirect(auth_code)</text><polygon fill="#000000" points="482,746.4063,472,750.4063,482,754.4063,478,750.4063" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="476" x2="734" y1="750.4063" y2="750.4063"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="22" x="514" y="734.8096">12</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="165" x="540" y="724.7988">{client_callback_uri}</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="188" x="540" y="744.8203">(Redirect + auth_code)</text><polygon fill="#000000" points="1220.5,805.4277,1230.5,809.4277,1220.5,813.4277,1224.5,809.4277" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="471" x2="1226.5" y1="809.4277" y2="809.4277"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="22" x="478" y="803.8418">13</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="257" x="504" y="803.8418">POST I_Registration(auth_code)</text><polygon fill="#000000" points="1627.5,839.4492,1637.5,843.4492,1627.5,847.4492,1631.5,843.4492" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="1242.5" x2="1633.5" y1="843.4492" y2="843.4492"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="22" x="1249.5" y="837.8633">14</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="352" x="1275.5" y="837.8633">POST {token_endpoint}(auth_code, verifier)</text><polygon fill="#000000" points="1253.5,873.4707,1243.5,877.4707,1253.5,881.4707,1249.5,877.4707" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1247.5" x2="1643.5" y1="877.4707" y2="877.4707"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="22" x="1540.5" y="871.8848">15</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="71" x="1566.5" y="871.8848">id_token</text><line style="stroke:#000000;stroke-width:1.0;" x1="1242.5" x2="1284.5" y1="936.4922" y2="936.4922"/><line style="stroke:#000000;stroke-width:1.0;" x1="1284.5" x2="1284.5" y1="936.4922" y2="949.4922"/><line style="stroke:#000000;stroke-width:1.0;" x1="1243.5" x2="1284.5" y1="949.4922" y2="949.4922"/><polygon fill="#000000" points="1253.5,945.4922,1243.5,949.4922,1253.5,953.4922,1249.5,949.4922" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="22" x="1249.5" y="930.9063">16</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="252" x="1275.5" y="930.9063">ID_TOKEN validieren(id_token)</text><line style="stroke:#000000;stroke-width:1.0;" x1="1242.5" x2="1284.5" y1="1043.5781" y2="1043.5781"/><line style="stroke:#000000;stroke-width:1.0;" x1="1284.5" x2="1284.5" y1="1043.5781" y2="1056.5781"/><line style="stroke:#000000;stroke-width:1.0;" x1="1243.5" x2="1284.5" y1="1056.5781" y2="1056.5781"/><polygon fill="#000000" points="1253.5,1052.5781,1243.5,1056.5781,1253.5,1060.5781,1249.5,1056.5781" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="22" x="1249.5" y="1007.96">17</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="86" x="1275.5" y="977.9277">enthaltene</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="147" x="1275.5" y="997.9492">ProfessionOID auf</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="169" x="1275.5" y="1017.9707">gültige Organisation</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="55" x="1275.5" y="1037.9922">prüfen</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="1736.5" y1="1090.5781" y2="1090.5781"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="4" x="25" y="1107.1016">[</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="132" x="29" y="1106.0469">KIM - Verfahren</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="4" x="161" y="1107.1016">]</text><polygon fill="#000000" points="1220.5,1157.4434,1230.5,1161.4434,1220.5,1165.4434,1224.5,1161.4434" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="123" x2="1226.5" y1="1161.4434" y2="1161.4434"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="22" x="130" y="1155.8574">18</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="511" x="156" y="1155.8574">KIM-Adresse in Eingabemaske eintragen (POST I_Registration)</text><line style="stroke:#000000;stroke-width:1.0;" x1="1242.5" x2="1284.5" y1="1215.4863" y2="1215.4863"/><line style="stroke:#000000;stroke-width:1.0;" x1="1284.5" x2="1284.5" y1="1215.4863" y2="1228.4863"/><line style="stroke:#000000;stroke-width:1.0;" x1="1243.5" x2="1284.5" y1="1228.4863" y2="1228.4863"/><polygon fill="#000000" points="1253.5,1224.4863,1243.5,1228.4863,1253.5,1232.4863,1249.5,1228.4863" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="22" x="1249.5" y="1199.8896">19</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="232" x="1275.5" y="1189.8789">Abfrage des LDAP-Directory</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="212" x="1275.5" y="1209.9004">Eintrags zur KIM-Adresse</text><line style="stroke:#000000;stroke-width:1.0;" x1="1242.5" x2="1284.5" y1="1307.5293" y2="1307.5293"/><line style="stroke:#000000;stroke-width:1.0;" x1="1284.5" x2="1284.5" y1="1307.5293" y2="1320.5293"/><line style="stroke:#000000;stroke-width:1.0;" x1="1243.5" x2="1284.5" y1="1320.5293" y2="1320.5293"/><polygon fill="#000000" points="1253.5,1316.5293,1243.5,1320.5293,1253.5,1324.5293,1249.5,1320.5293" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="22" x="1249.5" y="1291.9326">20</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="231" x="1275.5" y="1281.9219">Speicherung der telematikId</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="188" x="1275.5" y="1301.9434">und der professionOID</text><line style="stroke:#000000;stroke-width:1.0;" x1="1242.5" x2="1284.5" y1="1419.5938" y2="1419.5938"/><line style="stroke:#000000;stroke-width:1.0;" x1="1284.5" x2="1284.5" y1="1419.5938" y2="1432.5938"/><line style="stroke:#000000;stroke-width:1.0;" x1="1243.5" x2="1284.5" y1="1432.5938" y2="1432.5938"/><polygon fill="#000000" points="1253.5,1428.5938,1243.5,1432.5938,1253.5,1436.5938,1249.5,1432.5938" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="22" x="1249.5" y="1393.9863">21</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="147" x="1275.5" y="1373.9648">ProfessionOID auf</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="169" x="1275.5" y="1393.9863">gültige Organisation</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="55" x="1275.5" y="1414.0078">prüfen</text><polygon fill="#000000" points="134,1487.6152,124,1491.6152,134,1495.6152,130,1491.6152" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="128" x2="1231.5" y1="1491.6152" y2="1491.6152"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="22" x="1014.5" y="1486.0293">22</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="185" x="1040.5" y="1486.0293">KIM Nachricht mit URL</text><polygon fill="#000000" points="1220.5,1521.6367,1230.5,1525.6367,1220.5,1529.6367,1224.5,1525.6367" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="123" x2="1226.5" y1="1525.6367" y2="1525.6367"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="22" x="130" y="1520.0508">23</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="237" x="156" y="1520.0508">URL in KIM-Nachricht öffnen</text><path d="M20,1597.6367 L104,1597.6367 L104,1604.9473 L94,1614.9473 L20,1614.9473 L20,1597.6367 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="133.041" style="stroke:#000000;stroke-width:1.5;" width="1340" x="20" y="1597.6367"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="39" x="35" y="1611.2051">break</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="4" x="119" y="1614.9824">[</text><text fill="#000000" font-family="sans-serif" font-size="15" font-weight="bold" lengthAdjust="spacing" textLength="297" x="123" y="1614.1387">keine gültige ProfessionOID gefunden</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="4" x="420" y="1614.9824">]</text><polygon fill="#000000" points="482,1639.6348,472,1643.6348,482,1647.6348,478,1643.6348" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="476" x2="1231.5" y1="1643.6348" y2="1643.6348"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="22" x="742.5" y="1638.0488">24</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="457" x="768.5" y="1638.0488">Fehlernachricht "keine gültige ProfessionOID gefunden"</text><polygon fill="#000000" points="134,1693.6777,124,1697.6777,134,1701.6777,130,1697.6777" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="128" x2="460" y1="1697.6777" y2="1697.6777"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="22" x="140" y="1682.0811">25</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="128" x="166" y="1672.0703">Fehlernachricht</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="288" x="166" y="1692.0918">"Authentifizierung fehlgeschlagen"</text><line style="stroke:#000000;stroke-width:1.0;" x1="1242.5" x2="1284.5" y1="1808.7207" y2="1808.7207"/><line style="stroke:#000000;stroke-width:1.0;" x1="1284.5" x2="1284.5" y1="1808.7207" y2="1821.7207"/><line style="stroke:#000000;stroke-width:1.0;" x1="1243.5" x2="1284.5" y1="1821.7207" y2="1821.7207"/><polygon fill="#000000" points="1253.5,1817.7207,1243.5,1821.7207,1253.5,1825.7207,1249.5,1821.7207" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="22" x="1249.5" y="1793.124">26</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="106" x="1275.5" y="1783.1133">Organisation</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="130" x="1275.5" y="1803.1348">authentifizieren</text><line style="stroke:#000000;stroke-width:1.0;" x1="1242.5" x2="1284.5" y1="1880.7422" y2="1880.7422"/><line style="stroke:#000000;stroke-width:1.0;" x1="1284.5" x2="1284.5" y1="1880.7422" y2="1893.7422"/><line style="stroke:#000000;stroke-width:1.0;" x1="1243.5" x2="1284.5" y1="1893.7422" y2="1893.7422"/><polygon fill="#000000" points="1253.5,1889.7422,1243.5,1893.7422,1253.5,1897.7422,1249.5,1893.7422" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="22" x="1249.5" y="1875.1563">27</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="346" x="1275.5" y="1875.1563">Prüfung auf existierenden Admin Account</text><path d="M20,1933.7422 L104,1933.7422 L104,1941.0527 L94,1951.0527 L20,1951.0527 L20,1933.7422 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="133.041" style="stroke:#000000;stroke-width:1.5;" width="1340" x="20" y="1933.7422"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="39" x="35" y="1947.3105">break</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="4" x="119" y="1951.0879">[</text><text fill="#000000" font-family="sans-serif" font-size="15" font-weight="bold" lengthAdjust="spacing" textLength="603" x="123" y="1950.2441">Organisation bereits authentifiziert UND ein Admin-Account existiert bereits</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="4" x="726" y="1951.0879">]</text><polygon fill="#000000" points="482,1975.7402,472,1979.7402,482,1983.7402,478,1979.7402" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="476" x2="1231.5" y1="1979.7402" y2="1979.7402"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="22" x="854.5" y="1974.1543">28</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="345" x="880.5" y="1974.1543">Fehlernachricht "Account existiert bereits"</text><polygon fill="#000000" points="134,2029.7832,124,2033.7832,134,2037.7832,130,2033.7832" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="128" x2="460" y1="2033.7832" y2="2033.7832"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="22" x="216" y="2018.1865">29</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="128" x="242" y="2008.1758">Fehlernachricht</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="212" x="242" y="2028.1973">"Account existiert bereits"</text><polygon fill="#000000" points="482,2120.8047,472,2124.8047,482,2128.8047,478,2124.8047" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="476" x2="1236.5" y1="2124.8047" y2="2124.8047"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="22" x="1154.5" y="2119.2188">30</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="50" x="1180.5" y="2119.2188">Status</text><polygon fill="#000000" points="134,2154.8262,124,2158.8262,134,2162.8262,130,2158.8262" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="128" x2="460" y1="2158.8262" y2="2158.8262"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="22" x="227" y="2153.2402">31</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="201" x="253" y="2153.2402">Verifizierung erfolgreich</text><polygon fill="#000000" points="449,2233.8691,459,2237.8691,449,2241.8691,453,2237.8691" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="123" x2="455" y1="2237.8691" y2="2237.8691"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="22" x="130" y="2222.2725">32</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="198" x="156" y="2212.2617">Admin Account anlegen</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="180" x="156" y="2232.2832">(Passwort + 2. Faktor)</text><polygon fill="#000000" points="1220.5,2279.7236,1230.5,2283.7236,1220.5,2287.7236,1224.5,2283.7236" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="471" x2="1226.5" y1="2283.7236" y2="2283.7236"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="22" x="478" y="2278.1377">33</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="504" x="504" y="2278.1377">POST I_Registration (Admin-Account Credentials + 2. Faktor)</text><path d="M1247,2250.8691 L1247,2297.8691 L1503,2297.8691 L1503,2260.8691 L1493,2250.8691 L1247,2250.8691 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1493,2250.8691 L1493,2260.8691 L1503,2260.8691 L1493,2250.8691 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="16" lengthAdjust="spacing" textLength="179" x="1253" y="2271.3379">Schnittstelle wird nicht</text><text fill="#000000" font-family="sans-serif" font-size="16" lengthAdjust="spacing" textLength="235" x="1253" y="2290.1816">durch die gematik spezifiziert</text><line style="stroke:#000000;stroke-width:1.0;" x1="1242.5" x2="1284.5" y1="2354.5781" y2="2354.5781"/><line style="stroke:#000000;stroke-width:1.0;" x1="1284.5" x2="1284.5" y1="2354.5781" y2="2367.5781"/><line style="stroke:#000000;stroke-width:1.0;" x1="1243.5" x2="1284.5" y1="2367.5781" y2="2367.5781"/><polygon fill="#000000" points="1253.5,2363.5781,1243.5,2367.5781,1253.5,2371.5781,1249.5,2367.5781" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="22" x="1249.5" y="2348.9922">34</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="210" x="1275.5" y="2348.9922">Credentials-Policy prüfen</text><line style="stroke:#000000;stroke-width:1.0;" x1="1242.5" x2="1284.5" y1="2466.6426" y2="2466.6426"/><line style="stroke:#000000;stroke-width:1.0;" x1="1284.5" x2="1284.5" y1="2466.6426" y2="2479.6426"/><line style="stroke:#000000;stroke-width:1.0;" x1="1243.5" x2="1284.5" y1="2479.6426" y2="2479.6426"/><polygon fill="#000000" points="1253.5,2475.6426,1243.5,2479.6426,1253.5,2483.6426,1249.5,2479.6426" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="22" x="1249.5" y="2441.0352">35</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="169" x="1275.5" y="2421.0137">Org-Admin Account</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="165" x="1275.5" y="2441.0352">für die Organisation</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="65" x="1275.5" y="2461.0566">anlegen</text><polygon fill="#000000" points="482,2509.6641,472,2513.6641,482,2517.6641,478,2513.6641" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="476" x2="1236.5" y1="2513.6641" y2="2513.6641"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="22" x="1154.5" y="2508.0781">36</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="50" x="1180.5" y="2508.0781">Status</text><polygon fill="#000000" points="134,2543.6855,124,2547.6855,134,2551.6855,130,2547.6855" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="128" x2="465" y1="2547.6855" y2="2547.6855"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="22" x="289" y="2542.0996">37</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="144" x="315" y="2542.0996">Account angelegt</text><!--MD5=[68f8237108ad8688f6486297e8eb66f6]
@startuml
skinparam sequenceMessageAlign direction
skinparam WrapWidth 300
skinparam minClassWidth 150
skinparam BoxPadding 1
scale max 2048 width
autonumber

skinparam sequence {
  ArrowColor black
  ArrowFontSize 17
  ActorBorderColor black
  LifeLineBorderColor black
  LifeLineBackgroundColor Gainsboro

  ParticipantBorderColor Motivation
  ParticipantBackgroundColor Motivation
  ParticipantFontSize 20
  ParticipantFontColor black
  ParticipantBorderColor Black
  ParticipantBackgroundColor MOTIVATION

  ActorBackgroundColor Gainsboro
  ActorFontColor black
  ActorFontSize 20
}

actor oa as "Akteur in der Rolle\nOrg-Admin"
  box <size:19>Endgerät</size> #WhiteSmoke
  participant wb as "Frontend des \nRegistrierungs-Dienstes"
  participant au as "Authenticator"
  end box
participant ko as "Konnektor"
participant rd as "Registrierungs-Dienst"
participant ip as "zentraler \nIDP-Dienst"



|||
alt#LightGrey #AliceBlue <size:16>Organisation nicht am Registrierungs-Dienst authentisiert</size>
|||
      oa -> wb: Organisation verifizieren \n(Verfahren auswählen)
      alt#LightGrey #LightBlue <size:16>OpenID Connect</size>
          activate wb
        wb -> rd:POST I_Registration
        note right: <size:16>Schnittstelle wird nicht \n<size:16>durch die gematik spezifiziert</size>
          activate rd
        rd->rd: Erzeuge PKCE Code \nfür verifier und challenge
        rd - -> wb: Redirect to IDP Authorization Endpoint
          deactivate rd
        |||
        wb -> au: Deeplink authenticator://...
        activate au
        au -> ip: GET {authorization_endpoint}
        activate ip
        ip -> au: Authentication challenge
        au -> ko: ExternalAuthenticate
          activate ko
        ko - -> au: ExternalAuthenticateResponse
          deactivate ko
        au - ->ip: Authentication challenge response
        ip - ->au: HTTP 302 Redirect(auth_code)
          deactivate ip
        au - ->wb: {client_callback_uri}\n(Redirect + auth_code)
          deactivate au
        |||
        wb -> rd: POST I_Registration(auth_code)
          activate rd
        rd -> ip: POST {token_endpoint}(auth_code, verifier)
          activate ip
        ip - -> rd: id_token
          deactivate ip
        |||
        rd -> rd: ID_TOKEN validieren(id_token)
        rd -> rd: enthaltene \nProfessionOID auf \ngültige Organisation \nprüfen
        |||
      else <size:16>KIM - Verfahren</size>
        |||
        oa -> rd: KIM-Adresse in Eingabemaske eintragen (POST I_Registration)
        rd -> rd: Abfrage des LDAP-Directory\nEintrags zur KIM-Adresse
        |||
        rd -> rd: Speicherung der telematikId\nund der professionOID
        |||
        rd -> rd: ProfessionOID auf\ngültige Organisation\nprüfen
        |||
        rd -> oa: KIM Nachricht mit URL
        oa -> rd: URL in KIM-Nachricht öffnen
        |||
      end
      |||

    break #MistyRose <size:15>keine gültige ProfessionOID gefunden</size>
      rd -> wb: Fehlernachricht "keine gültige ProfessionOID gefunden"
      wb -> oa: Fehlernachricht \n"Authentifizierung fehlgeschlagen"
      |||
    end

      |||
      rd-> rd: Organisation \nauthentifizieren
      |||
      rd -> rd : Prüfung auf existierenden Admin Account
      |||
        break #MistyRose <size:15>Organisation bereits authentifiziert UND ein Admin-Account existiert bereits</size>
         rd -> wb: Fehlernachricht "Account existiert bereits"
         wb -> oa: Fehlernachricht \n"Account existiert bereits"
         |||
        end
      |||
      rd - -> wb: Status
        deactivate rd
      wb - -> oa: Verifizierung erfolgreich
      |||
      oa -> wb: Admin Account anlegen \n(Passwort + 2. Faktor)
      wb -> rd: POST I_Registration (Admin-Account Credentials + 2. Faktor)
      note right: <size:16>Schnittstelle wird nicht \n<size:16>durch die gematik spezifiziert</size>
        activate rd
      |||
      rd -> rd: Credentials-Policy prüfen
      |||
      rd -> rd: Org-Admin Account\nfür die Organisation \nanlegen
      rd - -> wb: Status
       deactivate rd
      wb - -> oa: Account angelegt
       deactivate wb
      |||
end
|||
@enduml

PlantUML version 1.2022.7(Mon Aug 22 19:01:30 CEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: de
Country: DE
--></g></svg>